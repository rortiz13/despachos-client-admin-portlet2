<?xml version="1.0" encoding="UTF-8"?>
<custom-sql>

	<sql id="la.netco.despachos_judiciales.entities.service.persistence.TrabajadorFinder.findByDespachoRelacion">
	 <![CDATA[
		SELECT {TRABAJADOR.*} FROM ADM_TRABAJADORES TRABAJADOR
		JOIN REL_TRA_DES RELACION ON TRABAJADOR.TRA_CEDULA = RELACION.TDE_TRABAJADOR
		WHERE RELACION.TDE_DESPACHO = ? AND RELACION.TDE_FECHA_INI = (SELECT MAX(RELACION.TDE_FECHA_INI) FROM ADM_TRABAJADORES TRABAJADOR
		JOIN REL_TRA_DES RELACION ON TRABAJADOR.TRA_CEDULA = RELACION.TDE_TRABAJADOR
		WHERE RELACION.TDE_DESPACHO = ? AND TDE_ACTIVO = 1) AND TDE_ACTIVO = 1
	  ]]>
	</sql>
	
	<sql id="la.netco.despachos_judiciales.entities.service.persistence.TrabajadorFinder.findByFields">
	 <![CDATA[
		SELECT {TRABAJADOR.*} FROM ADM_TRABAJADORES TRABAJADOR
		WHERE TRABAJADOR.TRA_CEDULA = ? AND TRABAJADOR.TRA_NOMBRES = ? AND TRABAJADOR.TRA_APELLIDOS = ? AND TRABAJADOR.TRA_ESPECIALIDAD = ? AND TRABAJADOR.TRA_CORREO_ELECTRONICO = ? AND TRABAJADOR.TRA_TELEFONOS_OFICINA = ? AND TRABAJADOR. TRA_CARRERA = ? AND TRABAJADOR.TRA_TIPO_TRABAJADOR = ? AND TRABAJADOR.TRA_TIPO_CONTRATO = ? AND TRABAJADOR.TRA_SEXO = ? AND TRABAJADOR.TRA_FECHA_NACIMIENTO = ? AND 1=1
		ORDER BY  TRABAJADOR.TRA_CEDULA
	  ]]>
	</sql>
	
	
	<sql id="la.netco.despachos_judiciales.entities.service.persistence.TrabajadorFinder.countByFields">
	 <![CDATA[
		SELECT COUNT(TRABAJADOR.TRA_CEDULA) AS COUNT_VALUE FROM ADM_TRABAJADORES TRABAJADOR
		WHERE TRABAJADOR.TRA_CEDULA = ? AND TRABAJADOR.TRA_NOMBRES = ? AND TRABAJADOR.TRA_APELLIDOS = ? AND TRABAJADOR.TRA_ESPECIALIDAD = ? AND TRABAJADOR.TRA_CORREO_ELECTRONICO = ? AND TRABAJADOR.TRA_TELEFONOS_OFICINA = ? AND TRABAJADOR. TRA_CARRERA = ? AND TRABAJADOR.TRA_TIPO_TRABAJADOR = ? AND TRABAJADOR.TRA_TIPO_CONTRATO = ? AND TRABAJADOR.TRA_SEXO = ? AND TRABAJADOR.TRA_FECHA_NACIMIENTO = ? AND 1=1
	  ]]>
	</sql>
	
	
</custom-sql>
