<?xml version="1.0" encoding="UTF-8"?>
<custom-sql>
	<sql id="la.netco.despachos_judiciales.entities.service.persistence.DespachoFinder.findByFields">
	 <![CDATA[
			SELECT DESPACHO.* FROM ADM_DESPACHOS DESPACHO
			JOIN GLO_MUNICIPIOS MUNICIPIO ON DESPACHO.DES_MUNICIPIO = MUNICIPIO.MUN_CODIGO AND DESPACHO.DES_DEPARTAMENTO = MUNICIPIO.MUN_DEPARTAMENTO
			WHERE MUNICIPIO.MUN_CONSEJO_SEC_DIS = ? AND DESPACHO.DES_CODIGO = ? AND  DESPACHO.DES_DEPARTAMENTO = ? AND DESPACHO.DES_MUNICIPIO = ? AND DESPACHO.DES_ENTIDAD = ? AND DESPACHO.DES_ESPECIALIDAD = ? AND DESPACHO.DES_CONSECUTIVO = ? AND DESPACHO.DES_NOMBRE = ? AND DESPACHO.DES_DIRECCION = ? AND DESPACHO.DES_TELEFONOS = ? AND DESPACHO.DES_CORREO_ELECTRONICO = ? AND DESPACHO.DES_ACUERDO = ? AND DESPACHO.DES_ESTADO = ? AND DESPACHO.DES_FAX = ? AND DESPACHO.DES_HORARIO_ATENCION = ? AND DESPACHO.DES_FECHA_ACT BETWEEN ? AND ? AND 1=1
			ORDER BY DESPACHO.DES_CODIGO
    ]]>
	</sql>

	<sql id="la.netco.despachos_judiciales.entities.service.persistence.DespachoFinder.countbyFields">
	 	<![CDATA[
			SELECT COUNT(DESPACHO.DES_CODIGO) AS COUNT_VALUE FROM ADM_DESPACHOS DESPACHO
			JOIN GLO_MUNICIPIOS MUNICIPIO ON DESPACHO.DES_MUNICIPIO = MUNICIPIO.MUN_CODIGO AND DESPACHO.DES_DEPARTAMENTO = MUNICIPIO.MUN_DEPARTAMENTO
			WHERE MUNICIPIO.MUN_CONSEJO_SEC_DIS = ? AND DESPACHO.DES_CODIGO = ? AND  DESPACHO.DES_DEPARTAMENTO = ? AND DESPACHO.DES_MUNICIPIO = ? AND DESPACHO.DES_ENTIDAD = ? AND DESPACHO.DES_ESPECIALIDAD = ? AND DESPACHO.DES_CONSECUTIVO = ? AND DESPACHO.DES_NOMBRE = ? AND DESPACHO.DES_DIRECCION = ? AND DESPACHO.DES_TELEFONOS = ? AND DESPACHO.DES_CORREO_ELECTRONICO = ? AND DESPACHO.DES_ACUERDO = ? AND DESPACHO.DES_ESTADO = ? AND DESPACHO.DES_FAX = ? AND DESPACHO.DES_HORARIO_ATENCION = ? AND DESPACHO.DES_FECHA_ACT BETWEEN ? AND ? AND 1=1
 		]]>
	</sql>
	
	<sql id="la.netco.despachos_judiciales.entities.service.persistence.DespachoFinder.findDespacho">
	 <![CDATA[
			SELECT {DESPACHO.*}
			FROM ADM_DESPACHOS  DESPACHO 
			JOIN GLO_MUNICIPIOS MUNICIPIO ON DESPACHO.DES_MUNICIPIO = MUNICIPIO.MUN_CODIGO AND DESPACHO.DES_DEPARTAMENTO = MUNICIPIO.MUN_DEPARTAMENTO 
			JOIN GLO_DEPARTAMENTOS DEPARTAMENTO ON DEPARTAMENTO.DEP_CODIGO = MUNICIPIO.MUN_DEPARTAMENTO 
			JOIN GLO_CONSEJOS_SEC CONSEJO ON MUNICIPIO.MUN_CONSEJO_SEC_DIS = CONSEJO.CON_CODIGO 
			JOIN GLO_CIRCUITOS CIRCUITO ON (MUNICIPIO.MUN_CIRCUITO = CIRCUITO.CIR_CODIGO OR MUNICIPIO.MUN_CIRCUITO_ADM = CIRCUITO.CIR_CODIGO OR MUNICIPIO.MUN_CIRCUITO_DIS = CIRCUITO.CIR_CODIGO) 
			JOIN GLO_DISTRITOS DISTRITO ON CIRCUITO.CIR_DISTRITO = DISTRITO.DIS_CODIGO       
			JOIN GLO_CIRCUITOS CIRCUITO_MUNICIPIO ON MUNICIPIO.MUN_CIRCUITO = CIRCUITO_MUNICIPIO.CIR_CODIGO   
			JOIN GLO_DISTRITOS DISTRITO_MUNICIPIO ON CIRCUITO_MUNICIPIO.CIR_DISTRITO = DISTRITO_MUNICIPIO.DIS_CODIGO 
			LEFT JOIN REL_TRA_DES  RELACION_TRABAJADORES ON DESPACHO.DES_CODIGO = RELACION_TRABAJADORES.TDE_DESPACHO AND TDE_ACTIVO=1 
			LEFT JOIN ADM_TRABAJADORES  TRABAJADOR ON RELACION_TRABAJADORES.TDE_TRABAJADOR= TRABAJADOR.TRA_CEDULA 
			WHERE  DESPACHO.DES_DEPARTAMENTO = ? AND DESPACHO.DES_MUNICIPIO = ?  AND DESPACHO.DES_ENTIDAD = ? AND DESPACHO.DES_ESPECIALIDAD = ? AND DISTRITO.DIS_CODIGO = ? AND CONSEJO.CON_CODIGO = ? AND  CIRCUITO.CIR_CODIGO = ? AND DESPACHO.DES_ESTADO = 1
			GROUP BY DESPACHO.DES_CODIGO,DESPACHO.DES_DEPARTAMENTO, DESPACHO.DES_MUNICIPIO, DESPACHO.DES_ENTIDAD, DESPACHO.DES_ESPECIALIDAD, DESPACHO.DES_CONSECUTIVO, DESPACHO.DES_NOMBRE, DESPACHO.DES_DIRECCION, DESPACHO.DES_TELEFONOS, DESPACHO.DES_CORREO_ELECTRONICO, DESPACHO.DES_ACUERDO, DESPACHO.DES_ESTADO, DESPACHO.DES_FAX, DESPACHO.DES_HORARIO_ATENCION, DESPACHO.DES_FECHA_ACT
       
    ]]>
	</sql>

	<sql id="la.netco.despachos_judiciales.entities.service.persistence.DespachoFinder.countDespacho">
	 	<![CDATA[
			SELECT COUNT (DISTINCT DESPACHO.DES_CODIGO) AS COUNT_VALUE FROM ADM_DESPACHOS  DESPACHO 
			JOIN GLO_MUNICIPIOS MUNICIPIO ON DESPACHO.DES_MUNICIPIO = MUNICIPIO.MUN_CODIGO AND DESPACHO.DES_DEPARTAMENTO = MUNICIPIO.MUN_DEPARTAMENTO 
			JOIN GLO_DEPARTAMENTOS DEPARTAMENTO ON DEPARTAMENTO.DEP_CODIGO = MUNICIPIO.MUN_DEPARTAMENTO 
			JOIN GLO_CONSEJOS_SEC CONSEJO ON MUNICIPIO.MUN_CONSEJO_SEC_DIS = CONSEJO.CON_CODIGO 
			JOIN GLO_CIRCUITOS CIRCUITO ON (MUNICIPIO.MUN_CIRCUITO = CIRCUITO.CIR_CODIGO OR MUNICIPIO.MUN_CIRCUITO_ADM = CIRCUITO.CIR_CODIGO OR MUNICIPIO.MUN_CIRCUITO_DIS = CIRCUITO.CIR_CODIGO) 
			JOIN GLO_DISTRITOS DISTRITO ON CIRCUITO.CIR_DISTRITO = DISTRITO.DIS_CODIGO       
			JOIN GLO_CIRCUITOS CIRCUITO_MUNICIPIO ON MUNICIPIO.MUN_CIRCUITO = CIRCUITO_MUNICIPIO.CIR_CODIGO   
			JOIN GLO_DISTRITOS DISTRITO_MUNICIPIO ON CIRCUITO_MUNICIPIO.CIR_DISTRITO = DISTRITO_MUNICIPIO.DIS_CODIGO 
			LEFT JOIN REL_TRA_DES  RELACION_TRABAJADORES ON DESPACHO.DES_CODIGO = RELACION_TRABAJADORES.TDE_DESPACHO AND TDE_ACTIVO=1 
			LEFT JOIN ADM_TRABAJADORES  TRABAJADOR ON RELACION_TRABAJADORES.TDE_TRABAJADOR= TRABAJADOR.TRA_CEDULA 
			WHERE  DESPACHO.DES_DEPARTAMENTO = ? AND DESPACHO.DES_MUNICIPIO = ?  AND DESPACHO.DES_ENTIDAD = ? AND DESPACHO.DES_ESPECIALIDAD = ? AND DISTRITO.DIS_CODIGO = ? AND CONSEJO.CON_CODIGO = ? AND  CIRCUITO.CIR_CODIGO = ? AND DESPACHO.DES_ESTADO = 1
			
 		]]>
	</sql>
	
</custom-sql>